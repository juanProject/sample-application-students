language: java

services:
  - docker

script:
  - mvn clean verify
  - docker build -t $DOCKERHUB_USER/tp_database ./Database

after_success:
  - cat $DOCKERHUB_PWD | docker login --username $DOCKERHUB_USER --password-stdin
  - docker tag $DOCKERHUB_USER/tp_database $DOCKERHUB_USER/database_base:1.1
  - docker push tp_database